<!DOCTYPE html>
<html lang="fr">
<head>
    <title>JavaScript - TD3 - exo1</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../lib/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <nav class="nav navbar">
            <h2>Les Étudiants</h2>
        </nav>

        <section class="row">
            <table class="table table-striped table-bordered" id="etudiants">
                <tr>
                    <th>Nom</th>
                    <th>Prénom</th>
                </tr>
            </table>
        </section>
    </div> <!-- fin .container -->

    <script>
        const URL = './etudiants.json';

        /**
         * Appelée au chargement de la page.
         */
        window.onload = function () {
            fetch(URL)
                .then(reponse => reponse.json())
                .then(json => {
                    const tableau = document.getElementById('etudiants');
                    const etudiants = json.etudiants
                    for (let etu of etudiants) {
                        let ligne = tableau.insertRow();
                        ligne.insertCell(0).innerHTML = etu.nom;
                        ligne.insertCell(1).innerHTML = etu.prenom;
                    }
                })
                .catch(erreur => {
                    alert('erreur : ' + erreur);
                })
                .finally(() => {
                    //alert('complete');
                })
        };
    </script>
</body>
</html>
